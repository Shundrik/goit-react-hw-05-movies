{"version":3,"file":"static/js/134.5da4fccf.chunk.js","mappings":"2NAQMA,EAAOC,EAAAA,GAAAA,KAAH,gHAiDV,UA1Ce,WACb,OAA4BC,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,MAMAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAYH,EAAaI,IAAI,SAC9BD,IAGLE,EAAAA,EAAAA,IAAeF,GAAWG,KAAKV,EAChC,GAAE,CAACI,IAOJ,GAAKL,EAIL,OACE,+BACC,UAAC,EAAAY,SAAD,CAAUC,UAAU,wCAApB,WAGC,UAAChB,EAAD,CAAMiB,SAdO,SAAAC,GACfA,EAAEC,iBACFV,EAAgB,CAAEJ,MAAAA,GACnB,EAWG,WACE,kBAAOe,KAAK,OAAOC,SA3BJ,SAAAH,GACnBZ,EAASY,EAAEI,OAAOC,MACnB,KA0BK,mBAAQH,KAAK,SAAb,0BAEF,SAAC,IAAD,CAAWjB,OAAQA,QAIxB,C","sources":["pages/Movies.jsx"],"sourcesContent":["import { MovieList } from 'components/MovieList';\nimport { useState, useEffect, Suspense } from 'react';\n// import { NavLink } from 'react-router-dom';\n// import { Link } from 'react-router-dom';\nimport { useSearchParams } from 'react-router-dom';\nimport { getFilmByQuery } from 'servises/api';\nimport styled from 'styled-components';\n\nconst Form = styled.form`\n  position: absolute;\n  top: 30px;\n  left: 50%;\n  transform: translate(-50%, -50%);\n`;\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [query, setQuery] = useState('');\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  useEffect(() => {\n    const movieName = searchParams.get('query');\n    if (!movieName) {\n      return;\n    }\n    getFilmByQuery(movieName).then(setMovies);\n  }, [searchParams]);\n\n  const onSubmit = e => {\n    e.preventDefault();\n    setSearchParams({ query });\n  };\n\n  if (!movies) {\n    return;\n  }\n\n  return (\n    <>\n     <Suspense fallback={<div>Loading...</div>}>\n       \n     \n      <Form onSubmit={onSubmit}>\n        <input type=\"text\" onChange={handleChange}></input>\n        <button type=\"submit\"> Search </button>\n      </Form>\n      <MovieList movies={movies} />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movies;\n"],"names":["Form","styled","useState","movies","setMovies","query","setQuery","useSearchParams","searchParams","setSearchParams","useEffect","movieName","get","getFilmByQuery","then","Suspense","fallback","onSubmit","e","preventDefault","type","onChange","target","value"],"sourceRoot":""}